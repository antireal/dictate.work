!function(e){function t(t){for(var r,a,s=t[0],c=t[1],u=t[2],f=0,v=[];f<s.length;f++)a=s[f],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&v.push(o[a][0]),o[a]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);for(l&&l(t);v.length;)v.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,s=1;s<n.length;s++){var c=n[s];0!==o[c]&&(r=!1)}r&&(i.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},o={0:0},i=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var s=window.webpackJsonp=window.webpackJsonp||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var l=c;i.push([199,1]),n()}({194:function(e,t){},199:function(e,t,n){"use strict";n.r(t);n(77),n(88),n(89);var r=n(0),o=(n(31),n(94),n(96),n(98),n(22),n(34),n(147),n(103),n(20),n(104),n(36),n(149),n(121)),i=n.n(o),a=n(122),s=n.n(a),c=n(123),u=n.n(c),l=n(124),f=n.n(l),v=n(125),d=n.n(v),p=n(126),h=n.n(p),m=n(127),g=n(133),y=n(128),b=n(2),x=n.n(b);function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var _=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.tmpVec0=new x.a.Vec3,this.tmpVec1=new x.a.Vec3,this.tmpVec2=new x.a.Vec3,this.tmpQuat0=new x.a.Vec3,this.scene=t,this.world=n,this._meshes=[],this._material=new r.MeshBasicMaterial({color:65280,wireframe:!0}),this._sphereGeometry=new r.SphereGeometry(1),this._boxGeometry=new r.BoxGeometry(1,1,1),this._planeGeometry=new r.PlaneGeometry(10,10,10,10),this._cylinderGeometry=new r.CylinderGeometry(1,1,10,10)}var t,n,o;return t=e,(n=[{key:"update",value:function(){for(var e=this.world.bodies,t=this._meshes,n=this.tmpVec0,r=this.tmpQuat0,o=0,i=0;i!==e.length;i++)for(var a=e[i],s=0;s!==a.shapes.length;s++){var c=a.shapes[s];this._updateMesh(o,a,c);var u=t[o];u&&(a.quaternion.vmult(a.shapeOffsets[s],n),a.position.vadd(n,n),a.quaternion.mult(a.shapeOrientations[s],r),u.position.copy(n),u.quaternion.copy(r),"visible"in a&&(u.visible=a.visible)),o+=1}for(var l=o;l<t.length;l++){var f=t[l];f&&this.scene.remove(f)}t.length=o}},{key:"_updateMesh",value:function(e,t,n){var r=this._meshes[e];this._typeMatch(r,n)||(r&&this.scene.remove(r),r=this._meshes[e]=this._createMesh(n)),this._scaleMesh(r,n)}},{key:"_createMesh",value:function(e){var t,n=this._material,o=new r.Geometry;switch(e.type){case x.a.Shape.types.SPHERE:t=new r.Mesh(this._sphereGeometry,n);break;case x.a.Shape.types.BOX:t=new r.Mesh(this._boxGeometry,n);break;case x.a.Shape.types.PLANE:t=new r.Mesh(this._planeGeometry,n);break;case x.a.Shape.types.CONVEXPOLYHEDRON:for(var i=0;i<e.vertices.length;i++){var a=e.vertices[i];o.vertices.push(new r.Vector3(a.x,a.y,a.z))}for(var s=0;s<e.faces.length;s++)for(var c=e.faces[s],u=c[0],l=1;l<c.length-1;l++){var f=c[l],v=c[l+1];o.faces.push(new r.Face3(u,f,v))}o.computeBoundingSphere(),o.computeFaceNormals(),t=new r.Mesh(o,n),e.geometryId=o.id;break;case x.a.Shape.types.TRIMESH:for(var d=0;d<e.indices.length/3;d++){e.getTriangleVertices(d,this.tmpVec0,this.tmpVec1,this.tmpVec2),o.vertices.push(new r.Vector3(this.tmpVec0.x,this.tmpVec0.y,this.tmpVec0.z),new r.Vector3(this.tmpVec1.x,this.tmpVec1.y,this.tmpVec1.z),new r.Vector3(this.tmpVec2.x,this.tmpVec2.y,this.tmpVec2.z));var p=o.vertices.length-3;o.faces.push(new r.Face3(p,p+1,p+2))}o.computeBoundingSphere(),o.computeFaceNormals(),t=new r.Mesh(o,n),e.geometryId=o.id;break;case x.a.Shape.types.HEIGHTFIELD:for(var h=0;h<e.data.length-1;h++)for(var m=0;m<e.data[h].length-1;m++)for(var g=0;g<2;g++){e.getConvexTrianglePillar(h,m,0===g),this.tmpVec0.copy(e.pillarConvex.vertices[0]),this.tmpVec1.copy(e.pillarConvex.vertices[1]),this.tmpVec2.copy(e.pillarConvex.vertices[2]),this.tmpVec0.vadd(e.pillarOffset,this.tmpVec0),this.tmpVec1.vadd(e.pillarOffset,this.tmpVec1),this.tmpVec2.vadd(e.pillarOffset,this.tmpVec2),o.vertices.push(new r.Vector3(this.tmpVec0.x,this.tmpVec0.y,this.tmpVec0.z),new r.Vector3(this.tmpVec1.x,this.tmpVec1.y,this.tmpVec1.z),new r.Vector3(this.tmpVec2.x,this.tmpVec2.y,this.tmpVec2.z));var y=o.vertices.length-3;o.faces.push(new r.Face3(y,y+1,y+2))}o.computeBoundingSphere(),o.computeFaceNormals(),t=new r.Mesh(o,n),e.geometryId=o.id}return t&&this.scene.add(t),t}},{key:"_typeMatch",value:function(e,t){if(!e)return!1;var n=e.geometry;return n instanceof r.SphereGeometry&&t instanceof x.a.Sphere||n instanceof r.BoxGeometry&&t instanceof x.a.Box||n instanceof r.PlaneGeometry&&t instanceof x.a.Plane||n.id===t.geometryId&&t instanceof x.a.ConvexPolyhedron||n.id===t.geometryId&&t instanceof x.a.Trimesh||n.id===t.geometryId&&t instanceof x.a.Heightfield}},{key:"_scaleMesh",value:function(e,t){var n=t.radius;switch(t.type){case x.a.Shape.types.SPHERE:e.scale.set(n,n,n);break;case x.a.Shape.types.BOX:e.scale.copy(t.halfExtents),e.scale.multiplyScalar(2);break;case x.a.Shape.types.CONVEXPOLYHEDRON:e.scale.set(1,1,1);break;case x.a.Shape.types.TRIMESH:e.scale.copy(t.scale);break;case x.a.Shape.types.HEIGHTFIELD:e.scale.set(1,1,1)}}}])&&w(t.prototype,n),o&&w(t,o),e}();function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){P(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function D(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var A=0;function j(e){return"__private_"+A+++"_"+e}var T=j("updateListeners"),M=j("tmpTarget"),I=j("lastTime"),z=j("width"),L=j("height"),N=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=n.background,a=void 0===o?"#000":o,c=n.backgroundAlpha,u=void 0===c?1:c,l=n.fov,v=void 0===l?45:l,p=n.near,b=void 0===p?.01:p,x=n.far,w=void 0===x?100:x,S=E(n,["background","backgroundAlpha","fov","near","far"]);if(C(this,e),Object.defineProperty(this,T,{writable:!0,value:[]}),Object.defineProperty(this,M,{writable:!0,value:new r.Vector3}),Object.defineProperty(this,I,{writable:!0,value:void 0}),Object.defineProperty(this,z,{writable:!0,value:void 0}),Object.defineProperty(this,L,{writable:!0,value:void 0}),this.resize=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.width,r=void 0===n?t.width:n,o=e.height,i=void 0===o?t.height:o,a=e.pixelRatio,s=void 0===a?t.pixelRatio:a;return t.renderer.getPixelRatio()!==s&&t.renderer.setPixelRatio(s),t.renderer.setSize(r,i),t.camera.isPerspectiveCamera&&(t.camera.aspect=r/i),t.camera.updateProjectionMatrix(),t.composer&&t.composer.setSize(s*r,s*i),t.scene.traverse((function(e){"function"==typeof e.resize&&e.resize({width:r,height:i,pixelRatio:s})})),t.draw(),t},this.saveScreenshot=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.width,r=void 0===n?2560:n,o=e.height,i=void 0===o?1440:o,a=e.fileName,s=void 0===a?"image.png":a;t.resize({width:r,height:i,pixelRatio:1}),t.draw();var c=t.canvas.toDataURL("image/png");t.resize(),t.draw(),V(s,c)},this.update=function(e,n,r){return t.orbitControls&&(t.orbitControls.update(),t.camera.up.fromArray(t.orbitControls.up),t.camera.position.fromArray(t.orbitControls.position),D(t,M)[M].fromArray(t.orbitControls.target),t.camera.lookAt(D(t,M)[M])),t.scene.traverse((function(t){"function"==typeof t.update&&t.update(e,n,r)})),t.world&&(t.world.step(1/60,e),t.cannonDebugRenderer&&t.cannonDebugRenderer.update(),t.world.bodies.forEach((function(t){"function"==typeof t.update&&t.update(e,n)}))),D(t,T)[T].forEach((function(t){return t(e,n,r)})),t},this.draw=function(){return t.composer?(t.composer.passes.forEach((function(e,t,n){var r=t===n.length-1;e.renderToScreen=!!r})),t.composer.render()):t.renderer.render(t.scene,t.camera),t},this.start=function(){if(!t.isRunning)return t.renderer.setAnimationLoop(t.animate),t.isRunning=!0,t},this.stop=function(){if(t.isRunning)return t.renderer.setAnimationLoop(null),t.isRunning=!1,t},this.animate=function(e,n){if(t.isRunning){t.stats&&t.stats.begin();var r=Math.min(t.maxDeltaTime,(e-D(t,I)[I])/1e3);t.time+=r,D(t,I)[I]=e,t.update(r,t.time,n),t.draw(),t.stats&&t.stats.end()}},this.traverse=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];t.scene.traverse((function(t){"function"==typeof t[e]&&t[e].apply(t,r)}))},this.renderer=new r.WebGLRenderer(O({antialias:!0,alpha:!1,preserveDrawingBuffer:!0,failIfMajorPerformanceCaveat:!0},S)),this.renderer.sortObjects=!1,this.canvas=this.renderer.domElement,this.renderer.setClearColor(a,u),S.xr&&(this.renderer.xr.enabled=!0),D(this,z)[z]=S.width,D(this,L)[L]=S.height,this.maxPixelRatio=S.maxPixelRatio||2,this.maxDeltaTime=S.maxDeltaTime||1/30,this.camera=new r.PerspectiveCamera(v,1,b,w),this.scene=new r.Scene,this.gl=this.renderer.getContext(),this.time=0,this.isRunning=!1,D(this,I)[I]=performance.now(),window.addEventListener("resize",this.resize),window.addEventListener("orientationchange",this.resize),this.resize(),this.touchHandler=s()(this.canvas,{target:this.canvas,filtered:!0}),this.isDragging=!1,this.touchHandler.on("start",(function(e,n){t.isDragging=!0,t.traverse("onPointerDown",e,n)})),this.touchHandler.on("move",(function(e,n){return t.traverse("onPointerMove",e,n)})),this.touchHandler.on("end",(function(e,n){t.isDragging=!1,t.traverse("onPointerUp",e,n)})),S.postprocessing&&(this.composer=new g.a(this.renderer),this.composer.addPass(new y.a(this.scene,this.camera))),S.orbitControls&&(this.orbitControls=i()(O({element:this.canvas,parent:window,distance:5},S.orbitControls instanceof Object?S.orbitControls:{})),this.camera.position.fromArray(this.orbitControls.position),this.camera.lookAt((new r.Vector3).fromArray(this.orbitControls.target))),S.world&&(this.world=S.world,S.showWorldWireframes&&(this.cannonDebugRenderer=new _(this.scene,this.world))),S.showFps&&(this.stats=new f.a,this.stats.showPanel(0),document.body.appendChild(this.stats.dom)),S.controls){var P=d()(S.controls);if(this.controls=S.hideControls?P:h()(P,{expanded:!S.closeControls}),!S.hideControls){var R='\n          [class^="controlPanel-"] [class*="__field"]::before {\n            content: initial !important;\n          }\n          [class^="controlPanel-"] [class*="__labelText"] {\n            text-indent: 6px !important;\n          }\n          [class^="controlPanel-"] [class*="__field--button"] > button::before {\n            content: initial !important;\n          }\n        ',A=document.createElement("style");A.type="text/css",A.innerHTML=R,document.head.appendChild(A)}}var j=Object(m.getGPUTier)({glContext:this.renderer.getContext()});this.gpu={name:j.type,tier:Number(j.tier.slice(-1)),isMobile:j.tier.toLowerCase().includes("mobile")}}var t,n,o;return t=e,(n=[{key:"onUpdate",value:function(e){D(this,T)[T].push(e)}},{key:"offUpdate",value:function(e){var t=D(this,T)[T].indexOf(e);-1!==t&&D(this,T)[T].splice(t,1)}},{key:"width",get:function(){return D(this,z)[z]||window.innerWidth}},{key:"height",get:function(){return D(this,L)[L]||window.innerHeight}},{key:"pixelRatio",get:function(){return Math.min(this.maxPixelRatio,window.devicePixelRatio)}},{key:"cursor",get:function(){return this.canvas.style.cursor},set:function(e){this.canvas.style.cursor=e||null}}])&&R(t.prototype,n),o&&R(t,o),e}();function V(e,t){var n=u()(t),r=document.createElement("a");r.download=e,r.href=window.URL.createObjectURL(n),r.onclick=setTimeout((function(){window.URL.revokeObjectURL(n),r.removeAttribute("href")}),0),r.click()}n(45),n(115),n(180),n(46),n(181),n(74),n(37),n(75);var k=n(129),F=n.n(k),U=n(49),G=n.n(U),W=n(48),B=n(130);function H(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function Y(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){H(i,r,o,a,s,"next",e)}function s(e){H(i,r,o,a,s,"throw",e)}a(void 0)}))}}function X(e,t){return q.apply(this,arguments)}function q(){return(q=Y(regeneratorRuntime.mark((function e(t,n){var o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(o=new r.Texture).name=t,o.encoding=n.encoding||r.LinearEncoding,$(t,o,n),e.prev=4,e.next=7,Object(W.a)(t,{crossorigin:"anonymous"});case 7:return i=e.sent,o.image=i,o.needsUpdate=!0,n.renderer&&n.renderer.initTexture(o),e.abrupt("return",o);case 14:throw e.prev=14,e.t0=e.catch(4),new Error("Could not load texture ".concat(t));case 17:case"end":return e.stop()}}),e,null,[[4,14]])})))).apply(this,arguments)}function $(e,t,n){if("boolean"==typeof n.flipY&&(t.flipY=n.flipY),void 0!==n.mapping&&(t.mapping=n.mapping),void 0!==n.format)t.format=n.format;else{var o=e.search(/\.(jpg|jpeg)$/)>0||0===e.search(/^data:image\/jpeg/);t.format=o?r.RGBFormat:r.RGBAFormat}n.repeat&&t.repeat.copy(n.repeat),t.wrapS=n.wrapS||r.ClampToEdgeWrapping,t.wrapT=n.wrapT||r.ClampToEdgeWrapping,t.minFilter=n.minFilter||r.LinearMipMapLinearFilter,t.magFilter=n.magFilter||r.LinearFilter,t.generateMipmaps=!1!==n.generateMipmaps}n(196);var Q=n(131),J=n.n(Q),Z=n(134);function K(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function ee(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){K(i,r,o,a,s,"next",e)}function s(e){K(i,r,o,a,s,"throw",e)}a(void 0)}))}}function te(){return(te=ee(regeneratorRuntime.mark((function e(t,n){var o,i,a,s,c,u,l,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=n.renderer){e.next=3;break}throw new Error("Env map requires renderer to passed in the options for ".concat(t,"!"));case 3:if(!n.equirectangular){e.next=17;break}return e.next=6,X(t,{renderer:o});case 6:if(i=e.sent,!n.pmrem){e.next=11;break}return e.abrupt("return",re(i,o));case 11:return a=J()(i.image.naturalHeight),s=new r.WebGLCubeRenderTarget(a,{generateMipmaps:!0,minFilter:r.LinearMipmapLinearFilter,magFilter:r.LinearFilter}),c=s.fromEquirectangularTexture(o,i),i.dispose(),i.image.data=null,e.abrupt("return",c);case 17:if(u=t,l=n.extension||".jpg",f=oe("".concat(u.replace(/\/$/,""),"/"),l),".hdr"!==l){e.next=22;break}return e.abrupt("return",new Promise((function(e,t){(new Z.a).load(r.UnsignedByteType,f,(function(t){return e(ne(t,n))}),null,(function(){return t(new Error("Could not load env map: ".concat(u)))}))})));case 22:return e.abrupt("return",new Promise((function(e,t){(new r.CubeTextureLoader).load(f,(function(t){return e(ne(t,n))}),null,(function(){return t(new Error("Could not load env map: ".concat(u)))}))})));case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ne(e,t){return t.encoding&&(e.encoding=t.encoding),t.format&&(e.format=t.format),t.pmrem&&(e=function(e,t){var n=new r.PMREMGenerator(t);n.compileCubemapShader();var o=n.fromCubemap(e);return n.dispose(),e.dispose(),e.image.data=null,o.texture}(e,t.renderer)),e}function re(e,t){var n=new r.PMREMGenerator(t);n.compileEquirectangularShader();var o=n.fromEquirectangular(e);return n.dispose(),e.dispose(),e.image.data=null,o.texture}function oe(e,t){return["".concat(e,"px").concat(t),"".concat(e,"nx").concat(t),"".concat(e,"py").concat(t),"".concat(e,"ny").concat(t),"".concat(e,"pz").concat(t),"".concat(e,"nz").concat(t)]}function ie(e){return function(e){if(Array.isArray(e))return ae(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return ae(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ae(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function se(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function ce(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){se(i,r,o,a,s,"next",e)}function s(e){se(i,r,o,a,s,"throw",e)}a(void 0)}))}}function ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(n),!0).forEach((function(t){fe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ve(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function de(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pe(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var he=0;function me(e){return"__private_"+he+++"_"+e}var ge=me("queue"),ye=me("cache"),be=me("onProgressListeners"),xe=me("asyncConcurrency"),we=me("logs"),_e=new(function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperty(this,ge,{writable:!0,value:[]}),Object.defineProperty(this,ye,{writable:!0,value:{}}),Object.defineProperty(this,be,{writable:!0,value:[]}),Object.defineProperty(this,xe,{writable:!0,value:10}),Object.defineProperty(this,we,{writable:!0,value:[]}),this.get=function(e){if(!e)throw new TypeError("Must specify an URL for AssetManager.get()");return pe(t,ye)[ye][e]}}var t,n,r,o,i;return t=e,(n=[{key:"addProgressListener",value:function(e){if("function"!=typeof e)throw new TypeError("onProgress must be a function");pe(this,be)[be].push(e)}},{key:"queue",value:function(e){var t=e.url,n=e.type,r=ve(e,["url","type"]);if(!t)throw new TypeError("Must specify a URL or opt.url for AssetManager.queue()");return this._getQueued(t)||pe(this,ge)[ge].push(le({url:t,type:n||this._extractType(t)},r)),t}},{key:"_getQueued",value:function(e){return pe(this,ge)[ge].find((function(t){return t.url===e}))}},{key:"_extractType",value:function(e){var t=e.slice(e.lastIndexOf("."));switch(!0){case/\.(gltf|glb)$/i.test(t):return"gltf";case/\.json$/i.test(t):return"json";case/\.svg$/i.test(t):return"svg";case/\.(jpe?g|png|gif|bmp|tga|tif)$/i.test(t):return"image";case/\.(wav|mp3)$/i.test(t):return"audio";case/\.(mp4|webm|ogg|ogv)$/i.test(t):return"video";default:throw new Error("Could not load ".concat(e,", unknown file extension!"))}}},{key:"loadSingle",value:(i=ce(regeneratorRuntime.mark((function e(t){var n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.renderer,r=ve(t,["renderer"]),n){e.next=3;break}throw new Error("You must provide a renderer to the loadSingle function.");case 3:return e.prev=3,o=Date.now(),e.next=7,this._loadItem(le({renderer:n},r));case 7:return pe(this,ye)[ye][r.url]=e.sent,window.DEBUG&&console.log("\ud83d\udce6 Loaded single asset %c".concat(r.url,"%c in ").concat(G()(Date.now()-o)),"color:blue","color:black"),e.abrupt("return",r.url);case 12:e.prev=12,e.t0=e.catch(3),delete pe(this,ye)[ye][r.url],console.error("\ud83d\udce6 Asset ".concat(r.url," was not loaded:\n").concat(e.t0));case 16:case"end":return e.stop()}}),e,this,[[3,12]])}))),function(e){return i.apply(this,arguments)})},{key:"load",value:(o=ce(regeneratorRuntime.mark((function e(t){var n,r,o,i,a,s=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.renderer){e.next=3;break}throw new Error("You must provide a renderer to the load function.");case 3:if(r=pe(this,ge)[ge].slice(),pe(this,ge)[ge].length=0,0!==(o=r.length)){e.next=9;break}return setTimeout((function(){return pe(s,be)[be].forEach((function(e){return e(1)}))}),0),e.abrupt("return");case 9:return i=Date.now(),e.next=12,F()(r,function(){var e=ce(regeneratorRuntime.mark((function e(t,r){var i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i=Date.now(),e.next=4,s._loadItem(le({renderer:n},t));case 4:pe(s,ye)[ye][t.url]=e.sent,window.DEBUG&&s.log("Loaded %c".concat(t.url,"%c in ").concat(G()(Date.now()-i)),"color:blue","color:black"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),s.logError("Asset ".concat(t.url," was not loaded:\n").concat(e.t0));case 11:a=(r+1)/o,pe(s,be)[be].forEach((function(e){return e(a)}));case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}(),{concurrency:pe(this,xe)[xe]});case 12:window.DEBUG&&(0===(a=pe(this,we)[we].filter((function(e){return"error"===e.type}))).length?this.groupLog("\ud83d\udce6 Assets loaded in ".concat(G()(Date.now()-i)," \u23f1")):this.groupLog("\ud83d\udce6 %c Could not load ".concat(a.length," asset").concat(a.length>1?"s":""," "),"color:white;background:red;"));case 13:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"_loadItem",value:function(e){var t=e.url,n=e.type,r=e.renderer,o=ve(e,["url","type","renderer"]);if(t in pe(this,ye)[ye])return pe(this,ye)[ye][t];switch(n){case"gltf":return new Promise((function(e,n){(new B.a).load(t,e,null,(function(e){return n(new Error("Could not load GLTF asset ".concat(t,":\n").concat(e)))}))}));case"json":return fetch(t).then((function(e){return e.json()}));case"env-map":return function(e,t){return te.apply(this,arguments)}(t,le({renderer:r},o));case"svg":case"image":return Object(W.a)(t,{crossorigin:"anonymous"});case"texture":return X(t,le({renderer:r},o));case"audio":return fetch(t).then((function(e){return e.arrayBuffer()}));case"video":return fetch(t).then((function(e){return e.blob()}));default:throw new Error("Could not load ".concat(t,", the type ").concat(n," is unknown!"))}}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];pe(this,we)[we].push({type:"log",text:t})}},{key:"logError",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];pe(this,we)[we].push({type:"error",text:t})}},{key:"groupLog",value:function(){var e;(e=console).groupCollapsed.apply(e,arguments),pe(this,we)[we].forEach((function(e){var t;(t=console)[e.type].apply(t,ie(e.text))})),console.groupEnd(),pe(this,we)[we].length=0}}])&&de(t.prototype,n),r&&de(t,r),e}()),Se=(n(47),n(76)),Oe=function(e){return function(t,n){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2,a=0,s=1,c=1,u=0,l=0;l<r;l++)a+=e.noise2D(t*s,n*s)*c,u+=c,c*=o,s*=i;return a/u}};function Pe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ee(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ee(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Re(e,t){return(Re=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function De(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=je(e);if(t){var o=je(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ae(this,n)}}function Ae(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function je(e){return(je=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Te=[new r.Vector3(0,0,-1),new r.Vector3(0,0,1),new r.Vector3(1,0,0),new r.Vector3(-1,0,0),new r.Vector3(0,1,0),new r.Vector3(0,-1,0)],Me=function(e){return e%2?e-1:e+1},Ie=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Re(e,t)}(a,e);var t,n,o,i=De(a);function a(e,t,n,o){var s;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(s=i.call(this,o)).webgl=e,s.options=o,s.camera=n,s.simplex_octaves=Oe(t),s.seed=25565*Math.random(),s.raycaster=new r.Raycaster;var c=s.options,u=c.color,l=c.color_end,f=c.texture,v=c.curve,d=c.radius,p=c.faces,h=c.draw_outline,m=void 0!==h&&h;c.rotate;s.directions=[];for(var g=d/2,y=new r.Geometry,b=0;b<3*p;b++){for(var x=0;x<3;x++)y.vertices.push(new r.Vector3(Math.random()*d-g,Math.random()*d-g,Math.random()*d-g)),s.directions.push(Math.floor(6*Math.random()));y.faces.push(new r.Face3(b,b+1,b+2))}y.computeBoundingSphere();var w=new r.ShaderMaterial({uniforms:{resolution:{value:new r.Vector2},color:{value:u},color_end:{value:l||u},curve:{value:v||1},cursor_pos:{value:new r.Vector2}},vertexShader:"#define GLSLIFY 1\nvarying vec2 vUv;\n\nvoid main() {\n  vUv = uv;\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n}",fragmentShader:f?gradient_mat_tex_frag:"#define GLSLIFY 1\nuniform vec2 resolution;\nuniform vec3 color;\nuniform vec3 color_end;\nuniform float curve;\n\nuniform vec2 cursor_pos;\n\nvoid main() {\n  vec2 st = gl_FragCoord.xy / resolution.xy;\n\n  float mix_value = mix(distance(st, cursor_pos * vec2(1., -1.)),\n                        distance(st, vec2(0., 0.)), .4);\n  vec3 grad = mix(color_end, color, pow(mix_value, curve));\n\n  grad = mix(grad, vec3(0.0, 0.0, 0.0), 1.0 - step(mod(st.x, 8.0), 1.0));\n\n  gl_FragColor = vec4(grad, 1.0);\n}"});if(s.material=w,w.uniforms.resolution.value.set(e.width*e.pixelRatio,e.height*e.pixelRatio),s.mesh=new r.Mesh(y,w),s.add(s.mesh),m){s.line=new Se.MeshLine,s.line.setGeometry(y),s.line_material=new Se.MeshLineMaterial({lineWidth:.01,color:new r.Color(u),transparent:!0,opacity:.5});var _=new r.Mesh(s.line,s.line_material);s.add(_)}return s}return t=a,(n=[{key:"regen",value:function(){for(var e=this.options.radius,t=(e*=Math.random()-.5+.5)/2,n=0;n<this.mesh.geometry.vertices.length;n++)this.mesh.geometry.vertices[n].set(Math.random()*e-t,Math.random()*e-t,Math.random()*e-t)}},{key:"update",value:function(e,t){for(var n=this.options,o=n.radius,i=n.speed,a=n.regen_prob,s=n.draw_outline,c=void 0!==s&&s,u=n.rotate,l=void 0===u||u,f=.25+(1+this.simplex_octaves(t,this.seed))/3,v=0;v<this.mesh.geometry.vertices.length;v++){var d=this.mesh.geometry.vertices[v];d.addScaledVector(Te[this.directions[v]],f*i*e*100),d.distanceTo(new r.Vector3(0,0,0))>=o/2&&(this.directions[v]=Me(this.directions[v]))}if(Math.random()<a&&this.regen(),this.mesh.geometry.verticesNeedUpdate=!0,c){var p=this.simplex_octaves(1*t,this.seed+54905);this.line_material.opacity=p>.4?p:0,this.line.setGeometry(this.mesh.geometry)}l&&(this.mesh.rotation.y+=1*e*i)}},{key:"onPointerMove",value:function(e,t){var n=Pe(t,2),r=n[0],o=n[1];this.material.uniforms.cursor_pos.value.set(r/this.webgl.width,o/this.webgl.width)}},{key:"resize",value:function(e){var t=e.width,n=e.height,r=e.pixelRatio;this.material.uniforms.resolution.value.set(t*r,n*r)}}])&&Ce(t.prototype,n),o&&Ce(t,o),a}(r.Group);function ze(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Le(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Le(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Le(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ne(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ve(e,t){return(Ve=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ke(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ue(e);if(t){var o=Ue(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Fe(this,n)}}function Fe(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ue(e){return(Ue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ge,We,Be,He=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ve(e,t)}(a,e);var t,n,o,i=ke(a);function a(e,t,n,o){var s;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(s=i.call(this,o)).webgl=e,s.options=o,s.simplex=t,s.simplex_octaves=Oe(t),s.seed=25565*Math.random(),s.mouseDelta=[0,0],s.regen_timer=0,s.add(new Ie(e,t,n,{color:new r.Color(8388590),color_end:new r.Color(3726568).offsetHSL(.05,.1,-.1),radius:6,faces:4,speed:.01,regen_prob:.007,draw_outline:!0}));var c=new Ie(e,t,n,{color:new r.Color(658736),color_end:new r.Color(922229),radius:8,faces:4,speed:5e-4,regen_prob:1e-4,rotate:!1});c.scale.setX(4),c.scale.setY(4),c.position.setZ(-1),s.add(c),s.add(new Ie(e,t,n,{color:new r.Color(13507895),color_end:new r.Color(13507895).offsetHSL(-.1,.2,-.2),radius:10,faces:3,speed:.006,regen_prob:1e-4}));var u=new Ie(e,t,n,{color:new r.Color(13027317).offsetHSL(0,0,-.1),color_end:new r.Color(4471925).offsetHSL(0,0,-.1),curve:1,radius:8,faces:1,speed:.012,regen_prob:.02,draw_outline:!0});return s.add(u),s}return t=a,(n=[{key:"update",value:function(e,t){var n=this.options,r=n.regen_prob,o=void 0===r?.3:r,i=n.regen_cooldown,a=void 0===i?2:i;if((this.simplex_octaves(10*t,this.seed)+1)/2<o&&this.regen_timer<=0){this.regen_timer=a;for(var s=0;s<this.children.length;s++)this.children[s].regen()}this.regen_timer-=e,this.rotateY(this.mouseDelta[0]*e*.04),this.rotateX(this.mouseDelta[1]*e*.04),this.mouseDelta[0]*=.9,this.mouseDelta[1]*=.9}},{key:"onPointerMove",value:function(e,t){var n=ze(t,2),r=n[0],o=n[1];this.mouseDelta[0]+=(r-this.webgl.width/2)/this.webgl.width,this.mouseDelta[1]+=(o-this.webgl.height/2)/this.webgl.height}}])&&Ne(t.prototype,n),o&&Ne(t,o),a}(r.Group),Ye=n(132),Xe=n.n(Ye);n(120);r.Pass=function(){this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1},Object.assign(r.Pass.prototype,{setSize:function(e,t){},render:function(e,t,n,r,o){console.error("THREE.Pass: .render() must be implemented in derived pass.")}}),r.Pass.FullScreenQuad=(Ge=new r.OrthographicCamera(-1,1,1,-1,0,1),We=new r.PlaneBufferGeometry(2,2),Be=function(e){this._mesh=new r.Mesh(We,e)},Object.defineProperty(Be.prototype,"material",{get:function(){return this._mesh.material},set:function(e){this._mesh.material=e}}),Object.assign(Be.prototype,{render:function(e){e.render(this._mesh,Ge)}}),Be);var qe=r.Pass;r.Pass=qe,r.ShaderPass=function(e,t){r.Pass.call(this),this.textureID=void 0!==t?t:"tDiffuse",e instanceof r.ShaderMaterial?(this.uniforms=e.uniforms,this.material=e):e&&(this.uniforms=r.UniformsUtils.clone(e.uniforms),this.material=new r.ShaderMaterial({defines:Object.assign({},e.defines),uniforms:this.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader})),this.fsQuad=new r.Pass.FullScreenQuad(this.material)},r.ShaderPass.prototype=Object.assign(Object.create(r.Pass.prototype),{constructor:r.ShaderPass,render:function(e,t,n){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=n.texture),this.fsQuad.material=this.material,this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(t),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),this.fsQuad.render(e))}});var $e=r.ShaderPass,Qe="#define GLSLIFY 1\nvarying vec2 vUv;\n\nvoid main() {\n  vUv = uv;\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n}";function Je(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ze(e,t){return(Ze=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ke(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=tt(e);if(t){var o=tt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return et(this,n)}}function et(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function tt(e){return(tt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var nt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ze(e,t)}(a,e);var t,n,o,i=Ke(a);function a(e,t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,t)).webgl=e;var o=new $e({vertexShader:Qe,fragmentShader:"#define GLSLIFY 1\n// clang-format off\nvec4 ca( in sampler2D image, in vec2 uv, in vec2 resolution, in vec2 direction ) {\n\tvec4 col = vec4( 0.0 );\n\tvec2 off = vec2( 1.3333333333333333 ) * direction;\n\n\tcol.ra = texture2D( image, uv ).ra;\n\tcol.g = texture2D( image, uv - ( off / resolution ) ).g;\n\tcol.b = texture2D( image, uv - 2. * ( off / resolution ) ).b;\n\n\treturn col;\n}\n\nvarying vec2 vUv;\nuniform sampler2D tDiffuse;\n\nuniform vec2 resolution;\n\nvoid main()\n{\n  vec2 st = gl_FragCoord.xy / resolution.xy;\n  vec2 direction = (st - .5) * 4.0;\n\n  gl_FragColor = ca(tDiffuse, st, resolution.xy, direction);\n}",uniforms:{tDiffuse:{type:"t",value:new r.Texture},resolution:{type:"v2",value:new r.Vector2}}});n.ca_pass=o,n.ca_pass.uniforms.resolution.value.set(e.width*e.pixelRatio,e.height*e.pixelRatio),e.composer.addPass(n.ca_pass);var s=new $e({vertexShader:Qe,fragmentShader:"#define GLSLIFY 1\n// clang-format off\nfloat vignette(vec2 uv, float radius, float smoothness) {\n\tfloat diff = radius - distance(uv, vec2(0.5, 0.5));\n\treturn smoothstep(-smoothness, smoothness, diff);\n}\n\nuniform sampler2D tDiffuse;\nvarying vec2 vUv;\n\nvoid main() {\n  vec4 texColor = texture2D(tDiffuse, vUv);\n\n  float vignetteValue = vignette(vUv, 0.8, 0.4);\n  texColor.rgb *= vignetteValue;\n\n  gl_FragColor = texColor;\n}",uniforms:{tDiffuse:{type:"t",value:new r.Texture}}});n.vignette_pass=s,e.composer.addPass(n.vignette_pass);var c=new $e({vertexShader:"#define GLSLIFY 1\nvarying vec2 vUv;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nuniform vec2 resolution;\n\nvoid main() {\n  vUv = uv;\n  vec2 fragCoord = uv * resolution;\n  vec2 inverseVP = 1.0 / resolution.xy;\n  v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n  v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n  v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n  v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n  v_rgbM = vec2(fragCoord * inverseVP);\n\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n}",fragmentShader:'#define GLSLIFY 1\n// clang-format off\nvarying vec2 vUv;\n\n// texcoords computed in vertex step\n// to avoid dependent texture reads\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\n// make sure to have a resolution uniform set to the screen size\nuniform vec2 resolution;\nuniform sampler2D tDiffuse;\n\n/**\nBasic FXAA implementation based on the code on geeks3d.com with the\nmodification that the texture2DLod stuff was removed since it\'s\nunsupported by WebGL.\n\n--\n\nFrom:\nhttps://github.com/mitsuhiko/webgl-meincraft\n\nCopyright (c) 2011 by Armin Ronacher.\n\nSome rights reserved.\n\nRedistribution and use in source and binary forms, with or without\nmodification, are permitted provided that the following conditions are\nmet:\n\n    * Redistributions of source code must retain the above copyright\n      notice, this list of conditions and the following disclaimer.\n\n    * Redistributions in binary form must reproduce the above\n      copyright notice, this list of conditions and the following\n      disclaimer in the documentation and/or other materials provided\n      with the distribution.\n\n    * The names of the contributors may not be used to endorse or\n      promote products derived from this software without specific\n      prior written permission.\n\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n"AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\nLIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\nA PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\nOWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\nSPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\nLIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\nDATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\nTHEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\nOF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n\n#ifndef FXAA_REDUCE_MIN\n    #define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n    #define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n    #define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent \n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 resolution,\n            vec2 v_rgbNW, vec2 v_rgbNE, \n            vec2 v_rgbSW, vec2 v_rgbSE, \n            vec2 v_rgbM) {\n    vec4 color;\n    mediump vec2 inverseVP = vec2(1.0 / resolution.x, 1.0 / resolution.y);\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n    \n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n    \n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n    \n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n              dir * rcpDirMin)) * inverseVP;\n    \n    vec3 rgbA = 0.5 * (\n        texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n        texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n        texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n        texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n  vec2 fragCoord = vUv * resolution;\n  gl_FragColor = fxaa(tDiffuse, fragCoord, resolution, v_rgbNW, v_rgbNE,\n                      v_rgbSW, v_rgbSE, v_rgbM);\n}',uniforms:{tDiffuse:{type:"t",value:new r.Texture},resolution:{type:"v2",value:new r.Vector2}}});n.fxaa_pass=c,n.fxaa_pass.uniforms.resolution.value.set(e.width*e.pixelRatio,e.height*e.pixelRatio),e.composer.addPass(n.fxaa_pass);var u=new $e({vertexShader:Qe,fragmentShader:'#define GLSLIFY 1\n// clang-format off\nfloat blendSoftLight(float base, float blend) {\n\treturn (blend<0.5)?(2.0*base*blend+base*base*(1.0-2.0*blend)):(sqrt(base)*(2.0*blend-1.0)+2.0*base*(1.0-blend));\n}\n\nvec3 blendSoftLight(vec3 base, vec3 blend) {\n\treturn vec3(blendSoftLight(base.r,blend.r),blendSoftLight(base.g,blend.g),blendSoftLight(base.b,blend.b));\n}\n\nvec3 blendSoftLight(vec3 base, vec3 blend, float opacity) {\n\treturn (blendSoftLight(base, blend) * opacity + base * (1.0 - opacity));\n}\n\nfloat blendScreen(float base, float blend) {\n\treturn 1.0-((1.0-base)*(1.0-blend));\n}\n\nvec3 blendScreen(vec3 base, vec3 blend) {\n\treturn vec3(blendScreen(base.r,blend.r),blendScreen(base.g,blend.g),blendScreen(base.b,blend.b));\n}\n\nvec3 blendScreen(vec3 base, vec3 blend, float opacity) {\n\treturn (blendScreen(base, blend) * opacity + base * (1.0 - opacity));\n}\n\n//\n// GLSL textureless classic 3D noise "cnoise",\n// with an RSL-style periodic variant "pnoise".\n// Author:  Stefan Gustavson (stefan.gustavson@liu.se)\n// Version: 2011-10-11\n//\n// Many thanks to Ian McEwan of Ashima Arts for the\n// ideas for permutation and gradient selection.\n//\n// Copyright (c) 2011 Stefan Gustavson. All rights reserved.\n// Distributed under the MIT license. See LICENSE file.\n// https://github.com/ashima/webgl-noise\n//\n\nvec3 mod289_0(vec3 x)\n{\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 mod289_0(vec4 x)\n{\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 permute_0(vec4 x)\n{\n  return mod289_0(((x*34.0)+1.0)*x);\n}\n\nvec4 taylorInvSqrt_0(vec4 r)\n{\n  return 1.79284291400159 - 0.85373472095314 * r;\n}\n\nvec3 fade(vec3 t) {\n  return t*t*t*(t*(t*6.0-15.0)+10.0);\n}\n\n// Classic Perlin noise, periodic variant\nfloat pnoise(vec3 P, vec3 rep)\n{\n  vec3 Pi0 = mod(floor(P), rep); // Integer part, modulo period\n  vec3 Pi1 = mod(Pi0 + vec3(1.0), rep); // Integer part + 1, mod period\n  Pi0 = mod289_0(Pi0);\n  Pi1 = mod289_0(Pi1);\n  vec3 Pf0 = fract(P); // Fractional part for interpolation\n  vec3 Pf1 = Pf0 - vec3(1.0); // Fractional part - 1.0\n  vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);\n  vec4 iy = vec4(Pi0.yy, Pi1.yy);\n  vec4 iz0 = Pi0.zzzz;\n  vec4 iz1 = Pi1.zzzz;\n\n  vec4 ixy = permute_0(permute_0(ix) + iy);\n  vec4 ixy0 = permute_0(ixy + iz0);\n  vec4 ixy1 = permute_0(ixy + iz1);\n\n  vec4 gx0 = ixy0 * (1.0 / 7.0);\n  vec4 gy0 = fract(floor(gx0) * (1.0 / 7.0)) - 0.5;\n  gx0 = fract(gx0);\n  vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0);\n  vec4 sz0 = step(gz0, vec4(0.0));\n  gx0 -= sz0 * (step(0.0, gx0) - 0.5);\n  gy0 -= sz0 * (step(0.0, gy0) - 0.5);\n\n  vec4 gx1 = ixy1 * (1.0 / 7.0);\n  vec4 gy1 = fract(floor(gx1) * (1.0 / 7.0)) - 0.5;\n  gx1 = fract(gx1);\n  vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1);\n  vec4 sz1 = step(gz1, vec4(0.0));\n  gx1 -= sz1 * (step(0.0, gx1) - 0.5);\n  gy1 -= sz1 * (step(0.0, gy1) - 0.5);\n\n  vec3 g000 = vec3(gx0.x,gy0.x,gz0.x);\n  vec3 g100 = vec3(gx0.y,gy0.y,gz0.y);\n  vec3 g010 = vec3(gx0.z,gy0.z,gz0.z);\n  vec3 g110 = vec3(gx0.w,gy0.w,gz0.w);\n  vec3 g001 = vec3(gx1.x,gy1.x,gz1.x);\n  vec3 g101 = vec3(gx1.y,gy1.y,gz1.y);\n  vec3 g011 = vec3(gx1.z,gy1.z,gz1.z);\n  vec3 g111 = vec3(gx1.w,gy1.w,gz1.w);\n\n  vec4 norm0 = taylorInvSqrt_0(vec4(dot(g000, g000), dot(g010, g010), dot(g100, g100), dot(g110, g110)));\n  g000 *= norm0.x;\n  g010 *= norm0.y;\n  g100 *= norm0.z;\n  g110 *= norm0.w;\n  vec4 norm1 = taylorInvSqrt_0(vec4(dot(g001, g001), dot(g011, g011), dot(g101, g101), dot(g111, g111)));\n  g001 *= norm1.x;\n  g011 *= norm1.y;\n  g101 *= norm1.z;\n  g111 *= norm1.w;\n\n  float n000 = dot(g000, Pf0);\n  float n100 = dot(g100, vec3(Pf1.x, Pf0.yz));\n  float n010 = dot(g010, vec3(Pf0.x, Pf1.y, Pf0.z));\n  float n110 = dot(g110, vec3(Pf1.xy, Pf0.z));\n  float n001 = dot(g001, vec3(Pf0.xy, Pf1.z));\n  float n101 = dot(g101, vec3(Pf1.x, Pf0.y, Pf1.z));\n  float n011 = dot(g011, vec3(Pf0.x, Pf1.yz));\n  float n111 = dot(g111, Pf1);\n\n  vec3 fade_xyz = fade(Pf0);\n  vec4 n_z = mix(vec4(n000, n100, n010, n110), vec4(n001, n101, n011, n111), fade_xyz.z);\n  vec2 n_yz = mix(n_z.xy, n_z.zw, fade_xyz.y);\n  float n_xyz = mix(n_yz.x, n_yz.y, fade_xyz.x);\n  return 2.2 * n_xyz;\n}\n\n//\n// Description : Array and textureless GLSL 2D/3D/4D simplex\n//               noise functions.\n//      Author : Ian McEwan, Ashima Arts.\n//  Maintainer : ijm\n//     Lastmod : 20110822 (ijm)\n//     License : Copyright (C) 2011 Ashima Arts. All rights reserved.\n//               Distributed under the MIT License. See LICENSE file.\n//               https://github.com/ashima/webgl-noise\n//\n\nvec3 mod289_1(vec3 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 mod289_1(vec4 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 permute_1(vec4 x) {\n     return mod289_1(((x*34.0)+1.0)*x);\n}\n\nvec4 taylorInvSqrt_1(vec4 r)\n{\n  return 1.79284291400159 - 0.85373472095314 * r;\n}\n\nfloat snoise(vec3 v)\n  {\n  const vec2  C = vec2(1.0/6.0, 1.0/3.0) ;\n  const vec4  D = vec4(0.0, 0.5, 1.0, 2.0);\n\n// First corner\n  vec3 i  = floor(v + dot(v, C.yyy) );\n  vec3 x0 =   v - i + dot(i, C.xxx) ;\n\n// Other corners\n  vec3 g_0 = step(x0.yzx, x0.xyz);\n  vec3 l = 1.0 - g_0;\n  vec3 i1 = min( g_0.xyz, l.zxy );\n  vec3 i2 = max( g_0.xyz, l.zxy );\n\n  //   x0 = x0 - 0.0 + 0.0 * C.xxx;\n  //   x1 = x0 - i1  + 1.0 * C.xxx;\n  //   x2 = x0 - i2  + 2.0 * C.xxx;\n  //   x3 = x0 - 1.0 + 3.0 * C.xxx;\n  vec3 x1 = x0 - i1 + C.xxx;\n  vec3 x2 = x0 - i2 + C.yyy; // 2.0*C.x = 1/3 = C.y\n  vec3 x3 = x0 - D.yyy;      // -1.0+3.0*C.x = -0.5 = -D.y\n\n// Permutations\n  i = mod289_1(i);\n  vec4 p = permute_1( permute_1( permute_1(\n             i.z + vec4(0.0, i1.z, i2.z, 1.0 ))\n           + i.y + vec4(0.0, i1.y, i2.y, 1.0 ))\n           + i.x + vec4(0.0, i1.x, i2.x, 1.0 ));\n\n// Gradients: 7x7 points over a square, mapped onto an octahedron.\n// The ring size 17*17 = 289 is close to a multiple of 49 (49*6 = 294)\n  float n_ = 0.142857142857; // 1.0/7.0\n  vec3  ns = n_ * D.wyz - D.xzx;\n\n  vec4 j = p - 49.0 * floor(p * ns.z * ns.z);  //  mod(p,7*7)\n\n  vec4 x_ = floor(j * ns.z);\n  vec4 y_ = floor(j - 7.0 * x_ );    // mod(j,N)\n\n  vec4 x = x_ *ns.x + ns.yyyy;\n  vec4 y = y_ *ns.x + ns.yyyy;\n  vec4 h = 1.0 - abs(x) - abs(y);\n\n  vec4 b0 = vec4( x.xy, y.xy );\n  vec4 b1 = vec4( x.zw, y.zw );\n\n  //vec4 s0 = vec4(lessThan(b0,0.0))*2.0 - 1.0;\n  //vec4 s1 = vec4(lessThan(b1,0.0))*2.0 - 1.0;\n  vec4 s0 = floor(b0)*2.0 + 1.0;\n  vec4 s1 = floor(b1)*2.0 + 1.0;\n  vec4 sh = -step(h, vec4(0.0));\n\n  vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy ;\n  vec4 a1 = b1.xzyw + s1.xzyw*sh.zzww ;\n\n  vec3 p0 = vec3(a0.xy,h.x);\n  vec3 p1 = vec3(a0.zw,h.y);\n  vec3 p2 = vec3(a1.xy,h.z);\n  vec3 p3 = vec3(a1.zw,h.w);\n\n//Normalise gradients\n  vec4 norm = taylorInvSqrt_1(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));\n  p0 *= norm.x;\n  p1 *= norm.y;\n  p2 *= norm.z;\n  p3 *= norm.w;\n\n// Mix final noise value\n  vec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);\n  m = m * m;\n  return 42.0 * dot( m*m, vec4( dot(p0,x0), dot(p1,x1),\n                                dot(p2,x2), dot(p3,x3) ) );\n  }\n\nfloat grain(vec2 texCoord, vec2 resolution, float frame, float multiplier) {\n    vec2 mult = texCoord * resolution;\n    float offset = snoise(vec3(mult / multiplier, frame));\n    float n1 = pnoise(vec3(mult, offset), vec3(1.0/texCoord * resolution, 1.0));\n    return n1 / 2.0 + 0.5;\n}\n\nfloat grain(vec2 texCoord, vec2 resolution, float frame) {\n    return grain(texCoord, resolution, frame, 2.5);\n}\n\nfloat grain(vec2 texCoord, vec2 resolution) {\n    return grain(texCoord, resolution, 0.0);\n}\n\nvec4 blur9(sampler2D image, vec2 uv, vec2 resolution, vec2 direction) {\n  vec4 color = vec4(0.0);\n  vec2 off1 = vec2(1.3846153846) * direction;\n  vec2 off2 = vec2(3.2307692308) * direction;\n  color += texture2D(image, uv) * 0.2270270270;\n  color += texture2D(image, uv + (off1 / resolution)) * 0.3162162162;\n  color += texture2D(image, uv - (off1 / resolution)) * 0.3162162162;\n  color += texture2D(image, uv + (off2 / resolution)) * 0.0702702703;\n  color += texture2D(image, uv - (off2 / resolution)) * 0.0702702703;\n  return color;\n}\n\nvarying vec2 vUv;\nuniform sampler2D tDiffuse;\n\nuniform float time;\nuniform vec2 resolution;\nuniform float bloomFactor;\n\nvoid main() {\n  // in\n  vec4 texColor = texture2D(tDiffuse, vUv);\n  vec2 st = gl_FragCoord.xy / resolution.xy;\n\n  // bloom pass\n  vec4 blurred = blur9(tDiffuse, vUv, resolution, vec2(-1, -1));\n  blurred = mix(blur9(tDiffuse, vUv, resolution, vec2(1, 1)), blurred, 0.5);\n\n  float luma = dot(blurred.rgb, vec3(0.299, 0.587, 0.114));\n  float response = smoothstep(0.05, 0.5, luma);\n\n  float dist = distance(st, vec2(0., 0.));\n  blurred = vec4(blendScreen(texColor.rgb, blurred.rgb, pow(response, 2.0) * bloomFactor * dist), 1.0);\n\n  // grain pass\n  float grain_size = 0.5;\n  vec3 g = vec3(grain(vUv, resolution / grain_size, time));\n  vec3 blended_noise = blendSoftLight(blurred.rgb, g, 0.6);\n\n  blended_noise = mix(blended_noise, blurred.rgb, pow(response, 2.0));\n\n  gl_FragColor = vec4(blended_noise, 1.0);\n}',uniforms:{time:{value:0},tDiffuse:{type:"t",value:new r.Texture},resolution:{type:"v2",value:new r.Vector2},bloomFactor:{value:1}}});return n.bloom_grain_pass=u,n.bloom_grain_pass.uniforms.resolution.value.set(e.width*e.pixelRatio,e.height*e.pixelRatio),e.composer.addPass(n.bloom_grain_pass),n}return t=a,(n=[{key:"update",value:function(e,t){this.bloom_grain_pass.uniforms.time.value=100*t}},{key:"resize",value:function(e){var t=e.width,n=e.height,r=e.pixelRatio;this.fxaa_pass.uniforms.resolution.value.set(t*r,n*r),this.ca_pass.uniforms.resolution.value.set(t*r,n*r),this.bloom_grain_pass.uniforms.resolution.value.set(t*r,n*r),console.log("updated uniforms")}}])&&Je(t.prototype,n),o&&Je(t,o),a}(r.Group);function rt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ot(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ot(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ot(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function it(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function at(e,t){return(at=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function st(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ut(e);if(t){var o=ut(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ct(this,n)}}function ct(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ut(e){return(ut=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var lt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&at(e,t)}(i,e);var t,n,r,o=st(i);function i(e,t,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(r=o.call(this,n)).webgl=e,r.camera=t,r}return t=i,(n=[{key:"onPointerMove",value:function(e,t){var n=rt(t,2);n[0],n[1]}}])&&it(t.prototype,n),r&&it(t,r),i}(r.Group);window.DEBUG=window.location.search.includes("debug");var ft=new N({canvas:document.querySelector("#app"),alpha:!0,background:"#0a0d30",backgroundAlpha:1,postprocessing:!0,showFps:window.DEBUG,orbitControls:!1});window.DEBUG&&(window.webgl=ft),ft.canvas.style.visibility="hidden";var vt=new Xe.a;_e.load({renderer:ft.renderer}).then((function(){ft.canvas.style.visibility="",ft.camera.position.set(0,0,6);var e=new He(ft,vt,ft.camera,{regen_prob:.2,regen_cooldown:.5});ft.scene.add(e);var t=new nt(ft,{});ft.scene.add(t);var n=new lt(ft,ft.orbitControls,{});ft.scene.add(n),ft.start(),ft.draw()}))}});
//# sourceMappingURL=app.c3c8ddd4.js.map